<%- include('partials/header', { title: title }) %>
<h1>Products</h1>
<div class="products">
    <% if (products && products.length > 0) { %>
        <% products.forEach(product => { %>
            <div class="product">
                <h2><%= product.name %></h2>
                <p><%= product.description %></p>
                <p>Price: $<%= product.price %></p>
                <a href="/details/<%= product.id %>">View Details</a>
                <form action="/cart/add" method="POST" style="margin-top: 10px;">
                    <input type="hidden" name="id" value="<%= product.id %>">
                    <input type="hidden" name="name" value="<%= product.name %>">
                    <input type="hidden" name="description" value="<%= product.description %>">
                    <input type="hidden" name="price" value="<%= product.price %>">
                    <button type="submit">Add to Cart</button>
                </form>
            </div>
        <% }) %>
    <% } else { %>
        <p>No products available.</p>
    <% } %>
</div>
<%- include('partials/footer') %>
